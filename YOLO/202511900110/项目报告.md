# 项目报告
## Renew yolov8n model
### 我重生了 
#### 重生在我装CUDA前，上一世，我看网上七零八碎的教程装了乱七八遭的CUDA，Anaconda，PyTorch，整个项目乱七八遭，运行yolov11时总会报错说和python版本不兼容，数据集要么是找不到标签要么是标签有问题，训练出了一堆鈻堚枅鈻堚枅鈻堚枅鈻堚枅鈻堚（省略一堆报错）
### 这一世 我吸取上一世教训 推翻重来
## yolov8n model 2项目正式启动
## level 1 配置YOLO环境
#### 重生一世，我从网上重新下载了anaconda3，并仔细阅读了安装程序文件名称
> Anaconda3-2025.06-0-Windows-x86_64
#### 作为2025.06发布的版本，自然不可能和*2025.8.14*发布的**Python 3.13.7**完美兼容，上一世一启动程序就报错的罪魁祸首找到了
> error01:Error while loading conda entry point: anaconda-auth (cannot import name 'Callable' from 'collections' (D:\program\anaconda\Lib\collections\__init__.py))
##### 上一世的报错，以下记为error01
#### 注：error01虽然每次启动程序都会出现，但却不影响程序正常运行（这一条后面会很关键）
#### 吸取前世教训，我下载了*2025.4.8*发行的**python-3.12.10-amd64**适配anaconda
#### 下载完anaconda，配置环境变量，在环境变量窗口选择“系统变量”下的“Path”，然后点击“编辑”，将 <安装目录>、<安装目录>/Scripts、<安装目录>/Library/bin 添加到环境变量中，然后一路点击“确定”后生效
#### 按 Win + x，选择“终端”，输入 conda --version，终端输出版本号，证明配置成功：
> Error while loading conda entry point: anaconda-auth (cannot import name 'Callable' from 'collections' (D:\program\anaconda\Lib\collections\__init__.py))                                                                                      
conda 25.5.1
#### 不是为什么安装了低版本的python还是会不兼容啊，还是说我上一世留下的狮山日志发力了，但是总的来说，终端确实输出了版本号，能跑就行
#### 在终端输入命令*conda init*，重启终端，命令行开头出现 base，初始化成功：为了加快其他包的下载速度，我删除了默认下载源，并通过换上了清华源
#### 在anaconda prompt输入命令*conda create -n yolov8 python=3.8*创建了一个yolov8n的专属虚拟环境，通过命令*conda activate yolov8*，我激活了yolov8虚拟环境
#### 此处省略我安装CUDA和Pytorch的过程，因为最后我用的是CPU跑的，安装CUDA和Pytorch各种不兼容报错，忙碌了一下午的D师傅最终选择了用CPU训练，慢点就慢点吧（当然这是后话）
[数据集下载链接(提取码：2111)](https://pan.baidu.com/s/1-WmsMt7Zzx3jmLHVEYpdaw)
#### 通过师哥师姐提供的数据集下载链接，我获得了测试集（test），训练集（train）,和yolo模型，进入level2
## Level 2：下载和标注数据集
### 下载数据集
#### 通过百度网盘玩sb小游戏免费加速30s，成功在五分钟之内下载完了链接里面的内容
### 标注数据集
#### CCPD 数据集本身已经包含了标注信息（文件名）,第 3 个字段 x1&y1_x2&y2（左上角 (x1,y1)，右下角 (x2,y2)），是 YOLO 格式需要的 bounding box 基础信息。只需要一个python程序便可完成对数据集的批量转换（豆包NB）,在本次工程实践中，对数据集批量转换的python程序在 …/必要的项目源代码/yolo model new 2/tool/conversion01.py
#### 通过转换程序，我们生成了yolo训练专用的数据集，进入level3
## Level 3：划分数据集，配置并训练模型
### 划分数据集
#### 依旧是通过python程序，我们将训练集**images**和**labels**分为**train**和**val**子集：划分用的程序在 …/必要的项目源代码/yolo model new 2/tool/divide01.py
### 创建 YOLO 配置文件（data.yaml）
#### 结合项目一提供的参考资料
[YOLO数据集目录划分方式及对应的data.yaml配置-CSDN博客](https://blog.csdn.net/m0_50037012/article/details/147097529)
#### 成功创建出了配置文件（位置：…/必要的项目源代码/yolo model new 2/yolo/datasets/CCPD/data.yaml），训练准备工作完成，开始训练
### 训练yolo模型
#### 根据项目一提示
> 对于初次尝试，建议选择 YOLO 的 n (nano) 系列模型，如 yolov8n。这类模型体量小，对计算资源要求低，训练速度快，非常适合入门学习
#### 我们选择yolov8n模型，CPU训练，把需求告诉豆包，豆包自动生成训练代码，通过更改参数，开始用CPU进行训练
- 参数列表
- data 数据集路径
- epochus 训练轮数
- batch 训练批次
- imgsz 图片尺寸
- device 使用设备
- project 项目生成位置
- name 项目名称
#### 通过修改参数列表，我们将训练轮次提升至100（上一世训练轮数50结果训练出了dinner yolo的惨痛教训），经过接近13小时的风扇轰鸣，任务管理器中vscode **29%-36%** 的CPU占用，训练好的best.pt（…/必要的项目源代码/yolo model new 2/yolo/ultralytics/runs/plate_detection/yolov8n_cpu_train/weights/best.pt）如期而至，进入level 4
## Level 4：使用训练好的模型进行推理
### 图片，视频文件的推理
#### 通过python程序（test01.py）对已有图片，视频进行推理
### 实时电脑摄像头推理
#### 通过python程序（test02.py）对电脑摄像头实时识别

## 花絮
### Error01
> Error while loading conda entry point: anaconda-auth (cannot import name 'Callable' from 'collections' (D:\program\anaconda\Lib\collections\__init__.py))
#### 大概是python和anaconda不适配或者是前几次留下的狮山日志发力了导致代码不兼容，虽然报错但是不影响正常运行
### Error02
> Error while loading conda entry point: anaconda-auth (invalid syntax (__init__.py, line 2))
#### 大概和error01是一个报错原因（经过vscode编译器自动修改后的报错）
### Error03
> ERROR: Could not find a version that satisfies the requirement torch (from versions: none)                              
ERROR: No matching distribution found for torch
#### 为什么Pytorch适配CUDA12.6版本的安装程序会找不到CUDA12.8？我的向下兼容呢？（后续CUDA12.8换成了CUDA12.6仍无济于事。CUDA12.6换回CUDA12.8再装适配12.8的Pytorch仍然是这个报错，没招了，立马换回CUDA12.1和11.8的Pytorch，这下成功了） 
### Error04
> RuntimeError: CUDA error: no kernel image is available for execution on the device
CUDA kernel errors might be asynchronously reported at some other API call, so the stacktrace below might be incorrect.
For debugging consider passing CUDA_LAUNCH_BLOCKING=1
Compile with `TORCH_USE_CUDA_DSA` to enable device-side assertions.
ERROR conda.cli.main_run:execute(127): `conda run python d:/program/yolo/ultralytics/train.py` failed. (See above for error)
#### 安装的 PyTorch 版本不支持当前 GPU 的 CUDA 架构,PyTorch 和显卡不兼容,没招了，如果换Pytorch和CUDA会触发error03，没招了，拿CPU跑得了

## 总结
#### 遇到的报错肯定不止这么少，包括但不限于转换数据集生成了一堆空文本文档，yolo把数据集里面5K+图全识别成背景图，识别成image了又找不到标签，找到标签了又发现标签里面第一个数全是9（正常为0）等等错误，但是万事开头难
## 我们遇到什么困难，不要害怕，微笑着面对它，消除恐惧的最好办法就是面对恐惧，坚持才是胜利，加油，aoligei！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！
